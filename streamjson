#!/usr/bin/env ruby

require 'optparse'

class StreamJSON
    attr_accessor :action
    
    def initialize(action = nil)
        @action = action
    end
    
    def execute
        if action == "list"
            # List videos.
            puts "List videos."
        elsif action == "detail"
            # Details on the video.
        elsif action == "play"
            # Play the video.
        else
            # Error.
        end
    end
end

if __FILE__ == $0
    streamjson = StreamJSON.new
    
    opt_parser = OptionParser.new do |opt|
        opt.version = "streamjson 0.1 (c) 2012 Nathan Campos\nThe awesome stream.json client for your awesome command-line."
        opt.banner = "Usage: streamjson option [id]"
        opt.separator ""
        opt.separator "Options"
        
        # List videos
        opt.on("-l", "--list", "List videos") do
            streamjson.action = "list"
            streamjson.execute()
        end
        
        # Usage
        opt.on("-h", "--help", "Help") do
            puts opt_parser
        end
        
        opt.separator ""
        opt.separator "ID"
        opt.separator "    Only used to play or show the description of a video."
        opt.separator "    ID of the video or Number on the --list"
    end
    
    if ARGV[0].nil?
        puts opt_parser
    else
        opt_parser.parse!
    end
end